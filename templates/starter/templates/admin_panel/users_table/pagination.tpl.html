{$current = $paging_model.current}
{$pages = $paging_model.pages}

{if $current > 2}
{$start = $current - 2}
{$limit = $current + 2}
{else}
{$start = 1}
{$limit = $start + 4}
{/if}
{if $limit > $pages}
{$limit = $pages}
{/if}

{function 'is_active' index=0 current=1}
{if $index == $current}
active
{/if}
{/function}
<nav class="text-center">
    <ul class="pagination">
        <li>
            <a href="/admin_panel">
                <span aria-hidden="true">&laquo;</span>
            </a>
        </li>
        {for $i=$start to $limit}
        <li class="{is_active index=$i current=$current}">
            {if $i == 1}
            <a href="/admin_panel">{$i}</a>
            {else}
            <a href="/admin_panel/page{$i}">{$i}</a>
            {/if}
        </li>
        {/for}
        <li>
            <a href="/admin_panel/page{$pages}">
                <span aria-hidden="true">&raquo;</span>
            </a>
        </li>
    </ul>
</nav>